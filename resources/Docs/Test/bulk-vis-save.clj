[{:dset {:label "Dataset", :opts {:order :row, :eltsper 1, :size "auto", :wrapfn {:tid :dset, :$split nil, :out-width "1000px", :fn [quote editor-repl-tab], :layout :left-right, :ns doc.code, :ed-out-order :first-last, :width "730px", :src "\n;;; Features per strain of S.p in RefSeq77\n;;; Total, and then binned by feature type\n;;;\n(def Spneumo-feature-types\n  [[{:name \"NC_014498\", :count 2407, :ftype :total}\n    {:name \"NC_014498\", :count 2336, :ftype \"CDS\"}\n    {:name \"NC_014498\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_014498\", :count 59, :ftype \"tRNA\"}]\n   [{:name \"NC_010380\", :count 2375, :ftype :total}\n    {:name \"NC_010380\", :count 2304, :ftype \"CDS\"}\n    {:name \"NC_010380\", :count 1, :ftype \"ncRNA\"}\n    {:name \"NC_010380\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_010380\", :count 58, :ftype \"tRNA\"}]\n   [{:name \"NC_012468\", :count 2334, :ftype :total}\n    {:name \"NC_012468\", :count 2257, :ftype \"CDS\"}\n    {:name \"NC_012468\", :count 5, :ftype \"ncRNA\"}\n    {:name \"NC_012468\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_012468\", :count 59, :ftype \"tRNA\"}\n    {:name \"NC_012468\", :count 1, :ftype \"tmRNA\"}]\n   [{:name \"NC_011900\", :count 2331, :ftype :total}\n    {:name \"NC_011900\", :count 2260, :ftype \"CDS\"}\n    {:name \"NC_011900\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_011900\", :count 59, :ftype \"tRNA\"}]\n   [{:name \"NC_010582\", :count 2323, :ftype :total}\n    {:name \"NC_010582\", :count 2253, :ftype \"CDS\"}\n    {:name \"NC_010582\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_010582\", :count 58, :ftype \"tRNA\"}]\n   [{:name \"NC_018594\", :count 2315, :ftype :total}\n    {:name \"NC_018594\", :count 2244, :ftype \"CDS\"}\n    {:name \"NC_018594\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_018594\", :count 59, :ftype \"tRNA\"}]\n   [{:name \"NC_003028\", :count 2286, :ftype :total}\n    {:name \"NC_003028\", :count 2216, :ftype \"CDS\"}\n    {:name \"NC_003028\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_003028\", :count 58, :ftype \"tRNA\"}]\n   [{:name \"NC_017769\", :count 2279, :ftype :total}\n    {:name \"NC_017769\", :count 2209, :ftype \"CDS\"}\n    {:name \"NC_017769\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_017769\", :count 58, :ftype \"tRNA\"}]\n   [{:name \"NC_017591\", :count 2265, :ftype :total}\n    {:name \"NC_017591\", :count 2194, :ftype \"CDS\"}\n    {:name \"NC_017591\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_017591\", :count 59, :ftype \"tRNA\"}]\n   [{:name \"NC_012467\", :count 2262, :ftype :total}\n    {:name \"NC_012467\", :count 2185, :ftype \"CDS\"}\n    {:name \"NC_012467\", :count 5, :ftype \"ncRNA\"}\n    {:name \"NC_012467\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_012467\", :count 59, :ftype \"tRNA\"}\n    {:name \"NC_012467\", :count 1, :ftype \"tmRNA\"}]\n   [{:name \"NC_014494\", :count 2243, :ftype :total}\n    {:name \"NC_014494\", :count 2174, :ftype \"CDS\"}\n    {:name \"NC_014494\", :count 2, :ftype \"ncRNA\"}\n    {:name \"NC_014494\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_014494\", :count 54, :ftype \"tRNA\"}\n    {:name \"NC_014494\", :count 1, :ftype \"tmRNA\"}]\n   [{:name \"NC_012469\", :count 2232, :ftype :total}\n    {:name \"NC_012469\", :count 2156, :ftype \"CDS\"}\n    {:name \"NC_012469\", :count 5, :ftype \"ncRNA\"}\n    {:name \"NC_012469\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_012469\", :count 58, :ftype \"tRNA\"}\n    {:name \"NC_012469\", :count 1, :ftype \"tmRNA\"}]\n   [{:name \"NC_018630\", :count 2206, :ftype :total}\n    {:name \"NC_018630\", :count 2135, :ftype \"CDS\"}\n    {:name \"NC_018630\", :count 1, :ftype \"ncRNA\"}\n    {:name \"NC_018630\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_018630\", :count 58, :ftype \"tRNA\"}]\n   [{:name \"NC_017593\", :count 2206, :ftype :total}\n    {:name \"NC_017593\", :count 2136, :ftype \"CDS\"}\n    {:name \"NC_017593\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_017593\", :count 58, :ftype \"tRNA\"}]\n   [{:name \"NC_014251\", :count 2205, :ftype :total}\n    {:name \"NC_014251\", :count 2132, :ftype \"CDS\"}\n    {:name \"NC_014251\", :count 3, :ftype \"ncRNA\"}\n    {:name \"NC_014251\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_014251\", :count 58, :ftype \"tRNA\"}]\n   [{:name \"NC_022655\", :count 2202, :ftype :total}\n    {:name \"NC_022655\", :count 2132, :ftype \"CDS\"}\n    {:name \"NC_022655\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_022655\", :count 58, :ftype \"tRNA\"}]\n   [{:name \"NC_017592\", :count 2188, :ftype :total}\n    {:name \"NC_017592\", :count 2117, :ftype \"CDS\"}\n    {:name \"NC_017592\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_017592\", :count 59, :ftype \"tRNA\"}]\n   [{:name \"NC_012466\", :count 2184, :ftype :total}\n    {:name \"NC_012466\", :count 2113, :ftype \"CDS\"}\n    {:name \"NC_012466\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_012466\", :count 59, :ftype \"tRNA\"}]\n   [{:name \"NC_011072\", :count 2181, :ftype :total}\n    {:name \"NC_011072\", :count 2110, :ftype \"CDS\"}\n    {:name \"NC_011072\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_011072\", :count 58, :ftype \"tRNA\"}\n    {:name \"NC_011072\", :count 1, :ftype \"tmRNA\"}]\n   [{:name \"NC_008533\", :count 2164, :ftype :total}\n    {:name \"NC_008533\", :count 2093, :ftype \"CDS\"}\n    {:name \"NC_008533\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_008533\", :count 59, :ftype \"tRNA\"}]\n   [{:name \"NC_003098\", :count 1885, :ftype :total}\n    {:name \"NC_003098\", :count 1814, :ftype \"CDS\"}\n    {:name \"NC_003098\", :count 1, :ftype \"misc_RNA\"}\n    {:name \"NC_003098\", :count 12, :ftype \"rRNA\"}\n    {:name \"NC_003098\", :count 58, :ftype \"tRNA\"}]])", :out-height "900px", :eid "ed-dset", :height "900px"}}, :specs []}} {:code {:label "Code", :opts {:order :row, :eltsper 1, :size "auto", :wrapfn {:tid :code, :$split nil, :out-width "1000px", :fn [quote editor-repl-tab], :layout :left-right, :ns doc.code, :ed-out-order :first-last, :width "730px", :src "\n\n;;; Simple example of how to generate a bunch of plots/charts based on some\n;;; dataset(s). First evaluate the def in the 'Dataset' tab.  Then put cursor\n;;; at end and Ctrl-X Ctrl-E (optionally put cursor in the body, or the end\n;;; actually, and Ctrl-X Ctrl-C)\n\n;;; This will generate 21 charts (for the 21 strains) and place them 3 per row\n;;; in a new tab called Gcnts. Once done, you can then click the 'Save Document'\n;;; button (at left with down arrow icon). Then select 'Visualizations'. Click\n;;; check/OK button.  All charts will be put into the designated Charts\n;;; directory (see config.edn) under Test>bulk-vis-save>gcnts\n\n(->\n  (mapv #(hc/xform\n          ht/bar-chart :TID :gcnts :VID (-> % first :name keyword)\n          :TITLE (format \"%s gene counts\" (-> % first :name))\n          :ELTSPER 3\n          :X :ftype :XTYPE \"nominal\" :XTITLE \"Feature\"\n          :Y :count\n          :XSORT {:field :count :order \"descending\"}\n          :DATA %)\n        Spneumo-feature-types)\n hmi/sv!)\n\n\n", :out-height "900px", :eid "ed-code", :height "900px"}}, :specs []}}]
